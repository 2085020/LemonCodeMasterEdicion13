<mat-card>
  <mat-card-content>
    <form class="example-form" #loginForm="ngForm">
      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Username</mat-label>
          <input
            name="username"
            matInput
            placeholder="Username"
            [(ngModel)]="userName"
            required
            email
            #username="ngModel"
            (change) = "change()"
          />
        </mat-form-field>
        <div *ngIf="username.invalid && username.touched">
          <div class="error">
            <div *ngIf="username.errors?.['required']">
              El usuario es obligatorio
            </div>
            <div *ngIf="username.errors?.['email']">El usuario es un email</div>
          </div>
        </div>
      </div>
      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Password</mat-label>
          <input
            name="password"
            type="password"
            matInput
            placeholder="Password"
            [(ngModel)]="password"
            required
            minlength="8"
            #pwd="ngModel"
            (change) = "change()"
          />
        </mat-form-field>
        <div *ngIf="pwd.invalid && pwd.touched">
          <div class="error">
            <div *ngIf="pwd.errors?.['required']">
              El password es obligatorio
            </div>
            <div *ngIf="pwd.errors?.['minlength']">
              El password debe ser 8 caracteres
            </div>
          </div>
        </div>
      </div>
      <div class="error" *ngIf="loginForm.valid">
        {{ errorlogin }}
      </div>
      <button (click)="login()" [disabled]="loginForm.invalid" mat-flat-button color="primary">Submit</button>
    </form>
  </mat-card-content>
</mat-card>
